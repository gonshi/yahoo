!function(a,b,$,c){"use strict";function d(){this._events={}}c=c||{},d.prototype.checkEvent=function(a){return!!this._events[a]},d.prototype.listen=function(a,b){if(this.checkEvent(a)){var c,d=this._events[a],e=d.length;for(c=0;e>c;c++)if(d[c]===b)return;d.push(b)}else this._events[a]=[b];return this},d.prototype.removeEvent=function(a,b){if(this.checkEvent(a)){for(var c,d=this._events[a],e=d.length;e--;)d[e]===b&&(c=e);return d.splice(c,1),this}},d.prototype.fire=function(a,b){if(this.checkEvent(a)){var c,d=this._events[a],e=$.merge([],d),f=e.length,g=$.merge([],arguments);for(g.splice(0,2),c=0;f>c;c++)e[c].apply(b||this,g)}},c.EventDispatcher=d,a.yahoo=c}(this,document,jQuery,this.yahoo),function(a,b,$,c){"use strict";function d(a){this.interval=a,this.prevTime=0,this.timer=function(){}}c=c||{},d.prototype.exec=function(a){var b=+new Date,c=b-this.prevTime;clearTimeout(this.timer),c>=this.interval?(this.prevTime=b,a()):this.timer=setTimeout(a,this.interval)},c.Throttle=d,a.yahoo=c}(this,document,jQuery,this.yahoo),function(a,b,$,c){"use strict";c=c||{},c.transitionend="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",c.animationend="webkitAnimationEnd oanimationend oAnimationEnd msAnimationEnd animationend",a.yahoo=c}(this,document,jQuery,this.yahoo),function(a,b,$,c){"use strict";function d(){c.EventDispatcher.call(this)}function e(){return f||(f=new d),f}c=c||{};var f,g;g=d.prototype.constructor,d.prototype=new c.EventDispatcher,d.prototype.constructor=g,d.prototype.exec=function(){var b=this,d=new c.Throttle(100);$(a).on("scroll",function(){d.exec(function(){b.fire("SCROLLED",b,$(a).scrollTop())})})},c.ScrollHandler={getInstance:e},a.yahoo=c}(this,document,jQuery,this.yahoo),function(a,b,$,c){"use strict";function d(){c.EventDispatcher.call(this)}function e(){return f||(f=new d),f}c=c||{};var f,g;g=d.prototype.constructor,d.prototype=new c.EventDispatcher,d.prototype.constructor=g,d.prototype.exec=function(){var b=this,d=new c.Throttle(200);$(a).on("resize",function(){d.exec(function(){b.fire("RESIZED",b)})})},c.ResizeHandler={getInstance:e},a.yahoo=c}(this,document,jQuery,this.yahoo),function(a,b,$,c){"use strict";function d(){var a;for(this.lastPlayed=-1,a=0;a<c.soundTotal;a++)i.push(new Audio("audio/"+("00"+a).slice(-2)+".mp3"));c.EventDispatcher.call(this)}function e(){return f||(f=new d),f}c=c||{},c.soundTotal=30;var f,g,h,i=[];g=d.prototype.constructor,d.prototype=new c.EventDispatcher,d.prototype.constructor=g,d.prototype.play=function(a){void 0!==i[a]&&a!==this.lastPlayed&&(i[a].currentTime=0,i[a].play(),$("#right .sound-area").eq(a).addClass("popup"),$("#right .sound-area").eq(a).on(c.animationend,function(){$("#right .sound-area").eq(a).off(c.transitionend),$("#right .sound-area").eq(a).removeClass("popup")}),$("#board-container .board-on").css({display:"block",left:$("#right .ball").eq(a).css("left")}),clearTimeout(h),h=setTimeout(function(){$("#board-container .board-on").hide()},100),this.lastPlayed=a,this.fire("AUDIO_PLAYED",this))},c.AudioPlayer={getInstance:e},a.yahoo=c}(this,document,jQuery,this.yahoo),function(a,b,$,c){"use strict";function d(){this.currentPhoto=0,this.marginTop=0}function e(){return f||(f=new d),f}c=c||{};var f,g=16;d.prototype.change=function(){this.currentPhoto+=1,this.currentPhoto>=g&&(this.currentPhoto=0),$("<img>").attr({src:"img/photo/"+("00"+this.currentPhoto).slice(-2)+".jpg",alt:"写真"}).css({marginTop:this.marginTop}).addClass("show").appendTo("#left .photo")},d.prototype.setMargin=function(a){this.marginTop=a},c.Photo={getInstance:e},a.yahoo=c}(this,document,jQuery,this.yahoo),function(a,b,$,c){"use strict";c=c||{},$(function(){function a(){for(d=$("#board-container .board").height(),e=$("#board-container .board").height()-$("#board-container .board-on").height(),f=($("#left .photo img").height()-200)/2,$("#right .ball").remove(),g=0;g<c.soundTotal;g++)p.clone().css({top:d+q*(g+1),left:100*Math.floor(Math.random()*r)/r+"%"}).appendTo("#right");j.setMargin(-1*f),$("#left .photo img").css({marginTop:-1*f}),$("#board-container .board-on").css({top:e})}function b(){o+=1,3===o&&a()}var d,e,f,g,h=c.ScrollHandler.getInstance(),i=c.AudioPlayer.getInstance(),j=c.Photo.getInstance(),k=c.ResizeHandler.getInstance(),l=new Image,m=new Image,n=new Image,o=0,p=$('<p class="ball"></p>'),q=50,r=24;h.listen("SCROLLED",function(a){var b=Math.floor(a/q)-1;i.play(b)}),i.listen("AUDIO_PLAYED",function(){j.change()}),k.listen("RESIZED",function(){a()}),h.exec(),k.exec(),m.onload=function(){$(m).appendTo("#board-container .board"),b()},m.src="img/orgel/board.jpg",l.onload=function(){$(l).appendTo("#board-container .board-on"),b()},l.src="img/orgel/board-on.png",n.onload=function(){$(n).appendTo("#left .photo"),b()},n.src="img/photo/00.jpg"}),a.yahoo=c}(this,document,jQuery,this.yahoo);